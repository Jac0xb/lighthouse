Testing Plan

- Processor
  - assert_merkle_tree_account
    - Pass in wrong compression program
  - memory_close
    - Happy path
      - [] Closes account (check lamports and owner post tx)
    - Failures
      - [x] Already closed memory account
      - [x] Memory account with wrong seeds
      - [x] Memory account with different bump
      - [x] Wrong lighthouse program
      - [x] Try closing someone else's memory account
      - [x] Memory account as not writable
      - [x] Payer is not signer
      - [x] Payer as not writable
  - memory_write
    - Happy Path
      - [x] Write AccountData
      - [] Write All account info fields
      - [x] Write All data values
      - [x] Resizing memory account
      - [x] Initializing memory account
      - [x] Writing to 16 offset then 0 offset
      - [x] Writing to another memory_id
      - [x] Writing to random bump
    - Failures
      - [x] Memory account with wrong seeds
      - [x] Memory account with different bump
      - [x] Wrong lighthouse program
      - [x] Try writing to someone else's memory account
      - [x] Writing to offset greater than 10kb
      - [x] Memory account as not writable
      - [x] Payer as not writable
      - [x] Payer is not signer
      - [] Try writing to memory from CPI
      - [x] Source Account read out of range for account data writetype
- Types

  - Assert
    - Account Data
      - Happy Path
        - [x] Spot check tests and make sure im happy
      - Failures
        - [x] Out of bounds Account Data try_from_slice (bytes, pubkey, and prim)
    - Account Delta
      - Happy Path
        - [x] Test all account info delta types
        - [x] Test all account data delta types
      - Failures
        - [x] Out of bounds Account Delta try_from_slice for both account a and b (bytes, pubkey, and prim)
        - [x] Out of bounds for account info lamports, data length, owner, rent epoch,
        - [x] Account is empty
    - Account Info
      - Happy Path
        - [x] Test all account info types
        - [x] Test sig verify
          - [x] Some(start)
          - [x] Some(end)
          - [x] None(start)
          - [x] None(end)
      - Failures
        - [x] Out of bounds hash verify
        - [x] Bad hash
    - Clock
      - Happy Path
        - [x] All cases IN BLACKBOX TESTING
        - [x] Check test cases inline tests
    - Merkle Tree
      - Happy Path
        - [x] Check blackbox tests to make sure im happy
      - Failures
        - [x] bad leaf
        - [x] bad path
        - [x] bad root
        - [x] bad leaf id
    - Mint Account
      - Happy Path
        - [x] Test all assertion types
          - [x] For mint authority and freeze authority test negation of none/some with operator
        - [] Test token2022 created mints
      - Failures
        - [x] Account not owned by token programs
        - [x] Account is empty
        - [] Token account as mint?
    - Operator
      - [] Test all codepaths for operators with inline tests
      - [] Test logging for operators
    - Stake Account
      - Happy Path
        - [] Test all assertion types
          - [] Test all state enums ::State
          - [x] Test Meta
            - [x] Test all meta assertion types
          - [x] Test Stake
            - [x] Test all stake assertion types
          - [x] StakeFlags
      - Failures
        - [x] Account not owned by stake program
    - Token Account
      - Happy Path
        - [] For delegate, is_native, and close_authority test negation of none/some with operator
        - [] Make sure all assertion types are tested inline and blackbox (FAILURE AND SUCCESS CASES)
        - [] Test fail case for bad toklen account owner is derived
      - Failures
        - [] Account not owned by token programs
        - [] Account is empty
        - [] Test with mint account
    - Upgradeable Loader State
      - Happy Path
        - [] Test all assertion types
          - [] Test all state enums ::State
          - [] Test all upgradeable loader state assertion types
          - [] Test all buffer assertion types
          - [] Test all program assertion types
          - [] Test all program data assertion types
          - [] Test uninitialized state
      - Failures
        - [] Account not owned by upgradeable loader program
        - [] Account is empty
        - [] Test empty account
        - [] Test account not in program state
        - [] Test account not in buffer state
        - [] Test account not in program data state
    -

- [] Look into memcpy syscall for memory write and using it.
- [] Add multi-write to roadmap
- [] .info() isnt a good name
- [] Look for more programs to add to KnownPrograms
- [] Use log level helpers
- [] Add additional merkle tree assertions to roadmap
- [] Probably move get_state to its own function not as a variable
- [] Write test plan for validations, multi instructions, utils
- [] Source account for memory write needs to be optional
- [] Add multi write to roadmap
- [] Should I add 128 bit support for account data delta
- [] Probably readd data is empty check
- [] Might want to just delete comparable operator
- [] Remove anchor for spl compression
